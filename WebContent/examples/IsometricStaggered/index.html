<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Crafty TileMapBuilder demo: Isometric</title>
    <style>
    body, html { margin:0; padding: 0; overflow:hidden; font-family:Arial; font-size:20px }
    #cr-stage { border:2px solid black; margin:5px auto; color:white }
    </style>  
  </head>
  <body>
    
    <script src="../../libs/crafty.js"></script>
    <script src="js/source.js"></script> 
    <script src="../../tiledmapbuilder.js"></script>    
	<script>
  		window.onload = function() {  	
  			var WIDTH = 640;
  			var HEIGHT = 320;
  			Crafty.init(WIDTH, HEIGHT);  
  			Crafty.viewport.init(WIDTH, HEIGHT );
  			Crafty.scene("Load", function() {
  				
  				Crafty.background("#000");
  			    Crafty.e("2D, DOM, Text").attr({ w: WIDTH, h: 20, x: 0, y: HEIGHT/2 })
  			            .text("Loading...")
  			            .css({ "text-align": "center" });
				
  				//Preload sprites first
  				 Crafty.load([
  				            "img/Terrain_tileset.png"
  				             ], function() {
  					   					   					 					   					   		
  					Crafty.scene("Main");		
  					});  				
  			});
  			
  			Crafty.scene("Load");
  			  			  		
			Crafty.scene("Main", function () {											
				Crafty.e("2D, DOM, TiledMapBuilder").createWorld( SOURCE_FROM_TILED_MAP_EDITOR );
				//TODO
  			});  			  													
  	}	
	</script>	
  </body>
</html>
